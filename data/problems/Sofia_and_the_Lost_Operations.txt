Sofia had an array of n n integers a 1 , a 2 , … , a n a 1 , a 2 , … , a n . One day she got bored with it, so she decided to sequentially apply m m modification operations to it.
Each modification operation is described by a pair of numbers ⟨ c j , d j ⟩ ⟨ c j , d j ⟩ and means that the element of the array with index c j c j should be assigned the value d j d j , i.e., perform the assignment a c j = d j a c j = d j . After applying all modification operations sequentially , Sofia discarded the resulting array.
Recently, you found an array of n n integers b 1 , b 2 , … , b n b 1 , b 2 , … , b n . You are interested in whether this array is Sofia's array. You know the values of the original array, as well as the values d 1 , d 2 , … , d m d 1 , d 2 , … , d m . The values c 1 , c 2 , … , c m c 1 , c 2 , … , c m turned out to be lost.
Is there a sequence c 1 , c 2 , … , c m c 1 , c 2 , … , c m such that the sequential application of modification operations ⟨ c 1 , d 1 , ⟩ , ⟨ c 2 , d 2 , ⟩ , … , ⟨ c m , d m ⟩ ⟨ c 1 , d 1 , ⟩ , ⟨ c 2 , d 2 , ⟩ , … , ⟨ c m , d m ⟩ to the array a 1 , a 2 , … , a n a 1 , a 2 , … , a n transforms it into the array b 1 , b 2 , … , b n b 1 , b 2 , … , b n ?