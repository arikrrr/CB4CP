2039A - Shohag Loves ModTHOUGHT:A general approach to tackle ad-hoc problems is to play around with the conditions and see if we can add more constraints to limit the search space.ACTION:Let's analyze the modular conditionaimodiaimodi.We know thataimodi<iaimodi<i, and allaimodiaimodivalues are distinct. Let's explore this step by step:a1mod1a1mod1is always00.a2mod2a2mod2can be00or11. But since allaimodiaimodivalues must be distinct,a2mod2a2mod2must be11(otherwise, it would equala1mod1a1mod1).a3mod3a3mod3can be00,11, or22. Similarly,a3mod3a3mod3must be22(to avoid duplication witha1mod1a1mod1ora2mod2a2mod2).……anmodnanmodnmust ben−1n−1.OBSERVATION:This leads to the constraintaimodi=i−1aimodi=i−1.THOUGHT:Next, let's consider the increasing sequence condition.OBSERVATION:Since the sequence must be increasing, we add the constraintai≥iai≥i.THOUGHT:To further limit the search space, note thatnncan be up to5050, andaiaimust be≤100≤100.OBSERVATION:This suggests that we can restrictaiaito values up to2⋅n2⋅n.THOUGHT:Let's compile the constraints:aimodi=i−1aimodi=i−1.ai≥iai≥i.ai≤2⋅nai≤2⋅n.Now we need to build the sequence that satisfies these conditions.ACTION:Let's build the sequence starting from the end.anmodn=n−1anmodn=n−1. Thus,anancan ben−1n−1or2⋅n−12⋅n−1. Sincean≥nan≥n,ananmust be2⋅n−12⋅n−1.an−1mod(n−1)=n−2an−1mod(n−1)=n−2. Soan−1an−1can ben−2n−2or(n−2)+(n−1)=2⋅n−3(n−2)+(n−1)=2⋅n−3. Sincean−1≥n−1an−1≥n−1,an−1an−1must be2⋅n−32⋅n−3.……aimodi=i−1aimodi=i−1. Thus,aiaican bei−1i−1or2⋅i−12⋅i−1or3⋅i−1…3⋅i−1…. Sinceai≥iai≥iand the odd numbers greater than2⋅i2⋅ihave already been used,aiaimust be2⋅i−12⋅i−1.OBSERVATION:If we limit the elements to2⋅n2⋅n, there is exactly one sequence that satisfies all conditions.CONCLUSION:The sequence isai=2⋅i−1ai=2⋅i−1, which is1,3,5,…,2⋅n−11,3,5,…,2⋅n−1.VALIDATION:We can validate the solution by checking if it satisfies all the constraints.aimodi=(2⋅i−1)modi=i−1aimodi=(2⋅i−1)modi=i−1. So allaimodiaimodiare distinct and values are under2⋅n2⋅n. So the sequence is valid.Time Complexity:O(n)O(n).