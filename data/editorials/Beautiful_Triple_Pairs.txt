To consider each pair only once, we will go from left to right and while adding a new triplet, we will add to the answer the number of already added triplets that form a beautiful pair with the current one.We will maintain a map with triplets, to denote a triplet with an error, we will place 00 (or any other value that cannot occur in the array aa) in place of the error.Thus, for each triplet bb, the already found triplets (0,b2,b3)(0,b2,b3), (b1,0,b3)(b1,0,b3), (b1,b2,0)(b1,b2,0) will be good. In each case, triplets equal to bb will also be included, so they need to be subtracted from each of the three cases.