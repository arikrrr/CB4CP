When there are no special balls, Alice and Bob alternately pick balls starting with Alice. This means Alice picks n+12n+12 balls if nn is odd or n2n2 if nn is even. The total value of all balls is ∑vi∑vi. On average, Alice's score is ⌊n+12⌋⋅∑vin⌊n+12⌋⋅∑vin.With kk special balls, the picking order can be interrupted, allowing the same player to pick again. We need to distribute kk special balls into n−k+1n−k+1 possible positions (gaps). The expected number of special balls picked by Alice can be derived as the expected number of gaps encountered by Alice (⌊n−k+22⌋⌊n−k+22⌋) times the expected number of special balls per gap(kn−k+1kn−k+1). The formula is (⌊n−k+22⌋)⋅kn−k+1(⌊n−k+22⌋)⋅kn−k+1.Expected value without special balls: ⌊n+12⌋⋅∑vin⌊n+12⌋⋅∑vin.Expected special balls for Alice: (⌊n−k2⌋+1)⋅kn−k+1(⌊n−k2⌋+1)⋅kn−k+1.Expected normal balls for Alice when there are non-zero special balls: ⌊n−k+12⌋⌊n−k+12⌋Therefore, expected score of Alice: (⌊n−k2⌋+1)⋅kn−k+1⋅∑i∈{1,2,⋅⋅⋅k}vik+⌊n−k+12⌋⋅∑i∈{k+1,k+2,⋅⋅⋅n}vin−k(⌊n−k2⌋+1)⋅kn−k+1⋅∑i∈{1,2,⋅⋅⋅k}vik+⌊n−k+12⌋⋅∑i∈{k+1,k+2,⋅⋅⋅n}vin−kSimilarly, expected score of Bob: (k−(⌊n−k2⌋+1)⋅kn−k+1)⋅∑i∈{1,2,⋅⋅⋅k}vik+(n−k−⌊n−k+12⌋)⋅∑i∈{k+1,k+2,⋅⋅⋅n}vin−k(k−(⌊n−k2⌋+1)⋅kn−k+1)⋅∑i∈{1,2,⋅⋅⋅k}vik+(n−k−⌊n−k+12⌋)⋅∑i∈{k+1,k+2,⋅⋅⋅n}vin−k